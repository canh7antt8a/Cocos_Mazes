require=function s(c,a,l){function r(e,t){if(!a[e]){if(!c[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};c[e][0].call(o.exports,function(t){return r(c[e][1][t]||t)},o,o.exports,s,c,a,l)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)r(l[t]);return r}({Enemy:[function(t,e,i){"use strict";cc._RF.push(e,"cfe104AL1BA4ZYID8PM1eVV","Enemy");t("./HexCell");cc.Class({extends:cc.Component,properties:{emeny:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}}},onLoad:function(){},start:function(){},moveTo:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],GameApplication:[function(t,e,i){"use strict";cc._RF.push(e,"f08152UaoRPB64U7d0m5V+q","GameApplication");t("../GameLogic/Player");var n=t("../GameLogic/SoundManager");t("../UI/MainView"),t("../UI/LevelView");cc.Class({extends:cc.Component,properties:{soundManager:{default:null,type:n},missions:{default:[]},missionsCB:{default:[]},conf:{default:{}},confCB:{default:[]},_playTimes:{default:0,type:cc.Integer},playTimes:{get:function(){return this._playTimes},set:function(t){this._playTimes=t,this._playTimes%playTimesAD==0&&(console.log("播放插屏广告"),SDK().showInterstitialAd(function(t){console.log("播放Done")}))}}},start:function(){t("LanguageData").init("en"),SDK().init()},getConf:function(i,n){null!=this.conf[i]?n&&n(this.conf[i]):cc.loader.loadRes(i,function(t,e){this.conf[i]=e,null!=n&&n(e)}.bind(this))},onLoad:function(){cc.game.addPersistRootNode(this.node);var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!1,t.enabledDrawBoundingBox=!1,cc.loader.loadRes("conf/missions",function(t,e){this.missions=e,this.invokeMissionCB()}.bind(this)),this.openMainView()},onDestroy:function(){cc.director.getCollisionManager().enabled=!1},getMissions:function(t){null!=this.missions&&0<this.missions.length?t(this.missions):this.missionsCB.push(t)},invokeMissionCB:function(){var e=this;0<this.missionsCB.length&&this.missionsCB.forEach(function(t){null!=t&&t(e.missions)})},setNodeActive:function(t,e){cc.find("Canvas/"+t).active=e},openMainView:function(){this.setNodeActive("levelView",!1),this.setNodeActive("mainView",!0)},openLevelView:function(t,e){this.setNodeActive("levelView",!0),this.setNodeActive("mainView",!1),cc.find("Canvas/levelView").getComponent("LevelView").init(t,e)},onQuitBtnClick:function(){}}),cc._RF.pop()},{"../GameLogic/Player":"Player","../GameLogic/SoundManager":"SoundManager","../UI/LevelView":"LevelView","../UI/MainView":"MainView",LanguageData:"LanguageData"}],GameView:[function(t,e,i){"use strict";cc._RF.push(e,"3a5f4xh9CRAI6wc4y+upnjw","GameView");var _,S=t("../../Utils/Utils"),L=t("./HexCell"),h=t("./Role"),a=t("./Enemy"),o=t("./Tower"),B=100;cc.Class({extends:cc.Component,properties:{mission:{default:null},title:{default:null,type:cc.Label},star1:{default:null,type:cc.Node},star2:{default:null,type:cc.Node},star3:{default:null,type:cc.Node},moves:{default:null,type:cc.RichText},best:{default:null,type:cc.RichText},tileBox:{default:null,type:cc.Node},iceBox:{default:null,type:cc.Node},maxValidMoves:{default:0,type:cc.Integer},movesLeft:{default:0,type:cc.Integer},moved:{default:0,type:cc.Integer},levelDimensions:{default:cc.v2(0,0),visible:!1},gridOffset:{default:cc.v2(0,0),visible:!1},hexCellPrefab:{default:null,type:cc.Node},icePrefab:{default:null,type:cc.Node},rolePrefab:{default:null,type:cc.Node},enemyPrefab:{default:null,type:cc.Node},enemyPrefab1:{default:null,type:cc.Node},enemyPrefab2:{default:null,type:cc.Node},endPrefab:{default:null,type:cc.Node},allCells:{default:[],type:[L]},allTowers:{default:[],type:[o]},myRole:{default:null,type:h},enemys:{default:[]},helplines:{default:[]},endObj:{default:null,type:h},selectedLines:{default:[]},mouseIsDown:!1,userInputEnabled:!1,gameOver:!1,prevTilePosition:{default:cc.v2(-1e3,-1e3),visible:!1},mouseOffsetPos:{default:cc.v2(0,0),visible:!1},touchPos:{default:cc.v2(0,0),visible:!1},movePlus:{get:function(){return[cc.v2(0,1),cc.v2(-1,0),cc.v2(0,-1),cc.v2(1,0)]}},helpPath:{default:[]},helpBtn:{default:null,type:cc.Node},helpCountLabel:{default:null,type:cc.Label},_helpCount:{default:0,type:cc.Integer},helpCount:{get:function(){return this._helpCount},set:function(t){this._helpCount=t,this.helpCountLabel.string=t.toString();var e={};e.my_help=0<this._helpCount?this._helpCount:-1,SDK().setScore(e,null),this.helpBtn.getChildByName("icon").active=!0,this.helpBtn.getChildByName("num").active=!0}},watchVideoTip:{default:null,type:cc.Node},shareFriendTip:{default:null,type:cc.Node},preBtn:{default:null,type:cc.Node},nextBtn:{default:null,type:cc.Node},endView:{default:null,type:cc.Node},endView_nextBtn:{default:null,type:cc.Node},endView_backBtn:{default:null,type:cc.Node},endView_Stars:{default:null,type:cc.Node},endView_title:{default:null,type:cc.Label},endView_text:{default:null,type:cc.RichText},gameApplication:{default:null,type:Object},isMoving:!1,lastDirection:{default:-1,type:cc.Integer},turnBackCount:{default:0,type:cc.Integer},timesNode:{default:null,type:cc.Node},timesVal:{default:null,type:cc.Label},timesLeft:{default:0,type:cc.Integer},timeOutflowCB:{default:null},timeIsUpNode:{default:null,type:cc.Node},timeIsUpInvNode:{default:null,type:cc.Node},timeIsUpEndNode:{default:null,type:cc.Node},gotMoreTime:!1},onLoad:function(){var t=cc.find("GameApplication");null!=t&&(this.gameApplication=t.getComponent("GameApplication")),void 0!==this.gameApplication&&null!=this.gameApplication?(this.init(),this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.onMouseDown(t)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.onMouseMove(t)},this)):this.onBackBtnClicked()},start:function(){},clear:function(){this.unschedule(this.timeOutflow),this.clearTile(),this.allCells.splice(0,this.allCells.length),this.allTowers.splice(0,this.allTowers.length),this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),(this.myRole=null)!=this.helpPath&&0<this.helpPath.length&&this.helpPath.splice(0,this.helpPath.length),B=100,this.mouseIsDown=!1,this.gameOver=!1,this.movesLeft=0,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,this.isMoving=!1,this.currentLineColor=0,this.oldCurrentLineColor=0},clearTile:function(){if(0<this.tileBox.childrenCount)for(var t=0;t<this.tileBox.childrenCount;t++){null!=(e=this.tileBox.children[t])&&(e.active=!1,e.destroy())}if(0<this.iceBox.childrenCount)for(t=0;t<this.iceBox.childrenCount;t++){var e;null!=(e=this.iceBox.children[t])&&(e.active=!1,e.destroy())}},init:function(){this.gameApplication.playTimes++;var i=this;if(this.selectedLines=[],this.enemys=[],this.helplines=[],this.helpPath=[],this.myRole=null,this.isMoving=!1,this.endView.active=!1,this.timeIsUpNode.active=!1,this.gotMoreTime=!1,null!=bid&&0<bid&&null!=mid&&0<mid&&null!=lid&&0<lid){var t="conf/level_detail/b_"+bid+"/"+mid+"/"+lid;this.gameApplication.getConf(t,function(t){this.mission=t,this.initGame()}.bind(this));var e=[];1<lid&&e.push(lid-1),lid<100&&e.push(lid+1),e.forEach(function(t){var e="conf/level_detail/b_"+bid+"/"+mid+"/"+t;i.gameApplication.getConf(e,null)}),this.initHelpBtn()}else this.onBackBtnClicked()},initHelpBtn:function(){var e=this;SDK().getScore("my_help",function(t){e.helpCount=0==t?5:-1==t?0:t}.bind(this))},initGame:function(){this.timeIsUpNode.active=!1,this.timeIsUpInvNode.active=!1,this.timeIsUpEndNode.active=!1,this.gotMoreTime=!1,this.endView.active=!1,this.clear();var t=this.mission.lines.length;this.maxValidMoves=t,this.movesLeft=t,this.moved=0,this.turnBackCount=0,this.lastDirection=-1;var e="conf/level_list/level_"+bid+"_"+mid;this.gameApplication.getConf(e,function(t){var e=t;this.title.string=e.title+" "+lid}.bind(this)),this.moves.string="0/"+t,this.preBtn.active=1<lid,this.nextBtn.active=!1,SDK().getScore(bid+"_"+mid+"_"+lid+"_moves",function(t){this.best.string=t<=0?"-":t.toString(),this.nextBtn.active=lid<100&&0<t||openAllLevel}.bind(this));var i=cc.v2(this.mission.x,this.mission.y);this.createGrid(i,this.mission.walls,this.mission.ice,this.mission.tower,function(){if(this.createRole(this.mission.start,this.mission.end),0<this.mission.enemy.length&&this.createEnemy(this.mission.enemy),this.initHelpPath(S.cloneObj(this.mission.lines)),6==mid){var t=12;t=lid<=5?12:lid<=20?15:lid<=45?20:lid<=75?25:30,this.timesLeft=t,this.timesNode.active=!0,this.timesVal.string=t.toString();var e=t;this.schedule(this.timeOutflow,1,e,1)}else this.timesLeft=-1}.bind(this)),this.updateUI()},initHelpPath:function(t){if(2!=mid||4!=mid)this.helpPath=t;else{this.helpPath=[],this.helpPath.push(this.myRole.axialCoordinate);for(var e=0;0<t.length;){for(var i=0;i<t.length;i++){var n=t[i];if(null!=n){n=this.checkXY(n,0,0);for(var o=this.checkMovePos(n),s=0;s<o.length;s++){var c=this.helpPath[this.helpPath.length-1];if(o[s].x==c.x&&o[s].y==c.y){this.helpPath.push(t[i]),t.splice(i,1);break}}}}500<=++e&&(t.splice(0,t.length),t=[])}}},timeOutflow:function(){var t=this;0<this.timesLeft&&(this.timesLeft--,this.timesLeft<10&&1<this.timesLeft&&this.schedule(function(){t.gameApplication.soundManager.playSound("clock")},.5,2,0),this.timesNode.active=!0,this.timesVal.string=this.timesLeft.toString(),this.timesLeft<10?this.timesVal.node.color=cc.hexToColor("#ef3a40"):this.timesVal.node.color=cc.hexToColor("#ffffff"),0==this.timesLeft&&(this.gameOver=!0,this.gotMoreTime?(this.timeIsUpInvNode.active=!1,this.timeIsUpNode.active=!1,this.timeIsUpEndNode.active=!0):(SDK().hasVideoAd()&&.4<Math.random()?(this.timeIsUpInvNode.active=!1,this.timeIsUpNode.active=!0):(this.timeIsUpInvNode.active=!0,this.timeIsUpNode.active=!1),this.timeIsUpEndNode.active=!1),this.stopAllAction()))},getMoreTime:function(e){e.target.getComponent(cc.Button).interactable=!1;var i=this;SDK().showVideoAd(function(t){if(t){i.timesLeft=5,i.timesNode.active=!0,i.timesVal.string="5";i.gotMoreTime=!0,i.gameOver=!1,i.unschedule(this.timeOutflow),i.schedule(i.timeOutflow,1,5,1)}e.target.getComponent(cc.Button).interactable=!0,i.timeIsUpNode.active=!1}.bind(this))},getMoreTimeInv:function(e){var i=this;SDK().getScore("all",function(t){SDK().share(t,function(t){if(t){i.timesLeft=5,i.timesNode.active=!0,i.timesVal.string="5";i.gotMoreTime=!0,i.gameOver=!1,i.unschedule(this.timeOutflow),i.schedule(i.timeOutflow,1,5,1)}e.target.getComponent(cc.Button).interactable=!0,i.timeIsUpInvNode.active=!1}.bind(this))}.bind(this))},restarGame:function(t){this.myRole.node.stopAllActions(),this.unschedule(this.timeOutflow),this.timesVal.node.color=cc.hexToColor("#ffffff"),this.timeIsUpNode.active=!1,this.gotMoreTime=!1,this.endView.active=!1,this.selectedLines.splice(0,this.selectedLines.length),this.enemys.splice(0,this.enemys.length),this.helplines.splice(0,this.helplines.length),this.helpPath.splice(0,this.helpPath.length),this.isMoving=!1,this.movesLeft=this.maxValidMoves,this.moved=0,this.turnBackCount=0,this.lastDirection=-1,null!=t&&0<t?this.scheduleOnce(function(){this.gameOver=!1,this.myRole=null,this.initGame()},t):(this.gameOver=!1,this.myRole=null,this.initGame())},nextGame:function(){lid<100?(lid++,this.init()):this.onBackBtnClicked()},prevGame:function(){1<lid?(lid--,this.init()):this.onBackBtnClicked()},help:function(){if(!(this.gameOver||null==this.myRole||this.helpPath.length<=0)){var t=null,e=0;if(0<this.selectedLines.length)for(var i=this.helpPath.length-1;0<=i;i--)for(var n=this.checkXY(this.helpPath[i],0,0),o=cc.v2(n.x,n.y),s=this.selectedLines.length-1;0<=s;s--){var c=this.selectedLines[s];if(null==t&&o.equals(c)){t=o,e=i;break}}null==t&&(t=this.checkXY(this.helpPath[0],0,0),e=0),this.showHelpLine(t,e)}},showHelpLine:function(t,e){if(!(this.helpPath.length<=0)){var i=this,n=cc.v2(t.x,t.y);0<this.helplines.length&&(n=this.helplines[this.helplines.length-1]);for(var o=0;o<this.helpPath.length;o++){var s=this.helpPath[o];if(n.equals(s)){n=cc.v2(s.x,s.y),e=o;break}}e<this.helpPath.length-1&&this.helpCount--,this.helplines.length<=0&&(!n.equals(this.myRole.axialCoordinate)&&S.isNeighbors(n,this.myRole.axialCoordinate)&&i.helplines.push(cc.v2(this.myRole.axialCoordinate.x,this.myRole.axialCoordinate.y)),i.helplines.push(cc.v2(n.x,n.y)));for(var c=!0;++e<this.helpPath.length&&c;){t=this.checkXY(this.helpPath[e],0,0),i.helplines.push(cc.v2(t.x,t.y));var a=i.getCellByCoordinate(t);2<this.checkCanMoveCount(this.checkMove(t))&&1<i.helplines.length&&!a.isIce&&(c=!1)}if(1<i.helplines.length)for(o=0;o<i.helplines.length;o++){var l=i.helplines[o];a=i.getCellByCoordinate(l);0==o?a.showStartHelp(i.helplines[o+1]):o==i.helplines.length-1?a.showEndHelp(i.helplines[i.helplines.length-2]):a.showHelp(i.helplines[o-1],i.helplines[o+1])}}},update:function(t){if(!this.gameOver){if(0<this.enemys.length)for(var e=0;e<this.enemys.length;e++){var i=this.enemys[e];this.roundMove(i)}if(0<this.allTowers.length)for(e=0;e<this.allTowers.length;e++){var n=this.allTowers[e];this.towerShoot(n)}}},towerShoot:function(t){if(!t.isShooting){t.isShooting=!0,t.bubble.active=!0;var e=this.checkMove(t.bubbleAxialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&(i=t.direction),-1==i){var n=cc.callFunc(function(){t.bubble.getComponent("NormalAnimation").play()},this),o=cc.delayTime(1),s=cc.callFunc(function(){t.bubbleAxialCoordinate=t.axialCoordinate,t.bubble.position=cc.pCompMult(t.node.getPosition(),cc.v2(.5,.5)),t.bubble.opacity=0},this),c=cc.delayTime(t.delay),a=cc.callFunc(function(){t.isShooting=!1,t.bubble.opacity=255},this),l=cc.sequence(n,o,s,c,a);t.bubble.runAction(l)}else{var r,h=t.bubbleAxialCoordinate.add(this.movePlus[i]),d=this.getCellByCoordinate(h),u=this.tileBox.convertToWorldSpaceAR(d.node.getPosition()),p=t.node.convertToNodeSpaceAR(u);r=1==i?cc.v2(-1*p.y,-1*p.x):2==i?cc.v2(-1*p.x,-1*p.y):3==i?cc.v2(p.y,p.x):cc.v2(p.x,p.y);var f=cc.moveTo(.3*t.s,r.y,r.x);n=cc.callFunc(function(){t.bubbleAxialCoordinate=h,t.isShooting=!1},this),l=cc.sequence(f,n);t.bubble.runAction(l)}}},roundMove:function(t){if(!t.isMoving){t.isMoving=!0;var e=this.checkMove(t.axialCoordinate),i=-1;if(-1!=t.direction&&e[t.direction]&&1==this.checkMoveDirectionCount(e,t.direction)||-1!=t.direction&&e[t.direction]&&.6<Math.random())i=t.direction;else for(;-1==i;){var n=S.GetRandomNum(0,3);e[n]&&(i=n)}t.direction=i;var o=t.axialCoordinate.add(this.movePlus[i]),s=this.getCellByCoordinate(o).node.getPosition(),c=cc.moveTo(1,s.x,s.y),a=cc.callFunc(function(){t.axialCoordinate=o,t.isMoving=!1},this),l=cc.sequence(c,a);t.node.runAction(l)}},onMouseDown:function(t){this.gameOver||null==this.myRole||(this.mouseIsDown=!0,this.touchPos=this.tileBox.convertToNodeSpaceAR(t.getLocation()))},onMouseMove:function(t){if(!this.gameOver&&null!=this.myRole&&this.mouseIsDown){var e=this.tileBox.convertToNodeSpaceAR(t.getLocation()),i=e.x-this.touchPos.x,n=e.y-this.touchPos.y;if(Math.abs(i)<30&&Math.abs(n)<30)return;Math.abs(i)>Math.abs(n)?i<0?this.doAction(1,!0):this.doAction(3,!0):0<n?this.doAction(0,!0):this.doAction(2,!0),this.mouseIsDown=!1}},getCellByCoordinate:function(t){for(var e=0;e<this.allCells.length;e++){var i=this.allCells[e];if(i.axialCoordinate.equals(t))return i}return null},stopAllAction:function(){cc.log("stopAllAction")},die:function(){this.unschedule(this.timeOutflow),this.gameOver=!0,this.myRole.playDie(),this.restarGame(2.1)},showGameOver:function(){this.gameApplication.soundManager.playSound("gamewin"),this.unschedule(this.timeOutflow),this.timeIsUpInvNode.active=!1,this.timeIsUpNode.active=!1,this.watchVideoTip.active=!1;var i=this;this.gameOver=!0,this.endView.active=!0,this.stopAllAction();var t=0;t=this.turnBackCount<=0?3:this.turnBackCount<=6?2:1,100<lid+1?(this.endView_nextBtn.active=!1,this.endView_backBtn.active=!0):(this.endView_nextBtn.active=!0,this.endView_backBtn.active=!1),this.endView_title.string=3==t?"GREAT":2==t?"GOOD":"CLEAR",this.endView_text.string="You finish with "+this.moved+" moves",SDK().getScore(bid+"_"+mid+"_"+lid,function(t){if(t<1){var e={};e[bid+"_"+mid+"_"+lid]=1,SDK().setScore(e,null);SDK().getScore("all",function(t){t+=1,SDK().setScore({all:t},null)}.bind(this)),SDK().getScore(bid+"_"+mid,function(t){t+=1;var e={};e[bid+"_"+mid]=t,SDK().setScore(e,null)}.bind(this))}}.bind(this)),SDK().getScore(bid+"_"+mid+"_"+lid+"_moves",function(t){if(i.moved<t||t<=0){var e={};e[bid+"_"+mid+"_"+lid+"_moves"]=i.moved,SDK().setScore(e,null)}}.bind(this))},checkWin:function(){var t=this.myRole.axialCoordinate.equals(this.endObj.axialCoordinate);return t&&this.showGameOver(),t},moveEnd:function(){if(this.isMoving=!1,this.moved++,!this.checkWin()){var t=this.checkMove();this.gameApplication.soundManager.playSound("done"),this.getCellByCoordinate(this.myRole.axialCoordinate).isIce&&t[this.lastDirection]?this.doAction(this.lastDirection,!0):this.myRole.setArrow(t[0],t[1],t[2],t[3])}this.updateUI()},addSelectedLines:function(t){var n=this;if(2<=this.selectedLines.length&&t.equals(this.selectedLines[this.selectedLines.length-2])){var e=this.selectedLines.pop();this.getCellByCoordinate(e).hideLine()}else this.selectedLines.push(cc.v2(t.x,t.y));1<this.selectedLines.length&&this.scheduleOnce(function(){for(var t=0;t<=n.selectedLines.length-1;t++){var e=n.selectedLines[t];(i=n.getCellByCoordinate(e)).hideLine()}for(t=0;t<=n.selectedLines.length-1;t++){e=n.selectedLines[t];var i=n.getCellByCoordinate(e);0==t?i.showStartLine(n.selectedLines[t+1]):t==n.selectedLines.length-1?i.showEndLine(n.selectedLines[n.selectedLines.length-2]):i.showLine(n.selectedLines[t-1],n.selectedLines[t+1])}},.08)},doAction:function(t,e){if(!this.isMoving&&!this.gameOver){this.isMoving=!0,this.myRole.hideArrow();var i=this,n=this.checkMove();if(!e&&1<this.checkMoveDirectionCount(n,t))this.moveEnd();else if(n[t]){var o=this.myRole.axialCoordinate.add(this.movePlus[t]);if(null!=(r=this.getCellByCoordinate(o))){(0==t?2==this.lastDirection:3==t?1==this.lastDirection:1==t?3==this.lastDirection:0==this.lastDirection)&&this.turnBackCount++,this.lastDirection=t;var s=r.node.getPosition(),c=cc.moveTo(.12,s.x,s.y),a=cc.callFunc(function(){i.myRole.axialCoordinate=o,i.isMoving=!1,i.checkWin()||i.doAction(t,!1)},this);this.addSelectedLines(o);var l=cc.sequence(c,a);i.myRole.node.runAction(l)}}else{var r;if(this.gameApplication.soundManager.playSound("done"),1==this.checkMoveDirectionCount(n,t)){if(t=this.getkMoveDirection(n,t),!this.checkWin())(r=this.getCellByCoordinate(this.myRole.axialCoordinate)).isIce?this.moveEnd():(this.isMoving=!1,i.doAction(t,!0))}else this.moveEnd()}}},getkMoveDirection:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0;n<t.length;n++){if(t[n]&&n!=i)return n}},checkCanMoveCount:function(t){for(var e=0,i=0;i<t.length;i++){t[i]&&e++}return e},checkMoveDirectionCount:function(t,e){var i;i=0==e?2:3==e?1:1==e?3:0;for(var n=0,o=0;o<t.length;o++){t[o]&&o!=i&&n++}return n},checkMove:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=S.getNeighborsOBJ(t),i=!0,n=!0,o=!0,s=!0,c=this.getCellByCoordinate(t);if(null!=c&&(c.leftActive&&(n=!1),c.rightActive&&(s=!1),c.topActive&&(i=!1),c.bottomActive&&(o=!1)),i){var a=this.getCellByCoordinate(e.t);null!=a&&a.bottomActive&&(i=!1)}if(o){var l=this.getCellByCoordinate(e.b);null!=l&&l.topActive&&(o=!1)}if(n){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(n=!1)}if(s){var h=this.getCellByCoordinate(e.r);null!=h&&h.leftActive&&(s=!1)}return[i,n,o,s]},checkMovePos:function(t){null==t&&(t=this.myRole.axialCoordinate);var e=S.getNeighborsOBJ(t),i=e.t,n=e.l,o=e.b,s=e.r,c=this.getCellByCoordinate(t);if(null!=c&&(c.leftActive&&(n=cc.v2(-1,-1)),c.rightActive&&(s=cc.v2(-1,-1)),c.topActive&&(i=cc.v2(-1,-1)),c.bottomActive&&(o=cc.v2(-1,-1))),i){var a=this.getCellByCoordinate(e.t);null!=a&&a.bottomActive&&(i=cc.v2(-1,-1))}if(o){var l=this.getCellByCoordinate(e.b);null!=l&&l.topActive&&(o=cc.v2(-1,-1))}if(n){var r=this.getCellByCoordinate(e.l);null!=r&&r.rightActive&&(n=cc.v2(-1,-1))}if(s){var h=this.getCellByCoordinate(e.r);null!=h&&h.leftActive&&(s=cc.v2(-1,-1))}return[i,n,o,s]},createEnemy:function(t){var e=B/100;if(!(t.length<=0))for(var i=0;i<t.length;i++){var n,o=t[i],s=this.getCellByCoordinate(cc.v2(o.x,o.y)),c=Math.random();(n=c<.33?cc.instantiate(this.enemyPrefab):c<.66?cc.instantiate(this.enemyPrefab1):cc.instantiate(this.enemyPrefab2)).parent=this.tileBox,n.setScale(e),n.setPosition(s.node.getPosition()),n.active=!0,(o=n.getComponent(a)).axialCoordinate=s.axialCoordinate,this.enemys.push(o)}},createRole:function(t,e){var i=B/100;t=this.checkXY(t,0,0),e=this.checkXY(e,0,0);var n=this.getCellByCoordinate(cc.v2(t.x,t.y)),o=this.getCellByCoordinate(cc.v2(e.x,e.y)),s=cc.instantiate(this.rolePrefab);s.parent=this.tileBox,s.setScale(i),s.setPosition(n.node.getPosition()),s.active=!0;var c=s.getComponent(h);this.myRole=c,this.myRole.init(),this.myRole.axialCoordinate=n.axialCoordinate,this.selectedLines.push(cc.v2(n.axialCoordinate.x,n.axialCoordinate.y));var a=this.checkMove();this.myRole.setArrow(a[0],a[1],a[2],a[3]);var l=cc.instantiate(this.endPrefab);l.parent=this.tileBox,l.setScale(i),l.setPosition(o.node.getPosition()),l.active=!0;var r=(this.endNode=l).getComponent(h);this.endObj=r,this.endObj.axialCoordinate=o.axialCoordinate,(this.myRole.gameView=this).myRole.setDark(4==mid)},collisionCallback:function(){this.die()},createGrid:function(t,e,r,h,d){this.gridOffset.x=0,this.gridOffset.y=0;Math.max(t.x,t.y);var i=cc.director.getWinSize(),n=this.tileBox.getContentSize(),o=n.height,s=i.width;if(o<(B=(s-(lineWidth-lineWidth*t.x))/t.x)*t.y){var c=((s=n.height)-(lineWidth-lineWidth*t.y))/t.y;c<B&&(B=c,this.gridOffset.x=.5*(i.width-t.x*B+t.x*lineWidth))}var a,l=_=B;this.levelDimensions=t;var u=cc.v2(0,0),p=cc.v2(0,0),f=.5*(n.height-this.levelDimensions.y*B+this.levelDimensions.y*lineWidth);this.gridOffset.y=-1*n.height+f;for(var g=0;g<this.levelDimensions.x;g++)for(var v=0;v<this.levelDimensions.y;v++){u.x=g,u.y=v,(p=S.axialToScreen(u,_)).x+=this.gridOffset.x,p.y+=this.gridOffset.y,(a=cc.instantiate(this.hexCellPrefab)).parent=this.tileBox,a.setPosition(p.add(cc.v2(0,1e3))),a.setContentSize(cc.size(l,l)),a.active=!0;var m=this;v%2==0?a.runAction(cc.sequence(cc.moveTo(.2+.05*u.y,p.x,p.y),cc.callFunc(function(){m.gameApplication.soundManager.playSound("uplock")}))):a.runAction(cc.moveTo(.2+.05*u.y,p.x,p.y)),a.name="grid"+g.toString()+"_"+v.toString(),a.zIndex=0,(b=a.getComponent(L)).scaleChild(l/100,l/100),b.axialCoordinate=u,this.allCells.push(b)}if(!(null==e||e.length<=0)){for(m=this,g=0;g<e.length;g++){var y,C,b,x=e[g],w=m.checkXY(x.w1,0,0),A=m.checkXY(x.d1,0,0);w.x<A.x||w.y>A.y?(y=w,C=A):(y=A,C=w),(b=this.getCellByCoordinate(cc.v2(y.x,y.y-1)))?y.x==C.x?b.setLeft(!0):b.setTop(!0):(b=this.getCellByCoordinate(cc.v2(y.x,y.y)))?y.x==C.x?b.setRight(!0):b.setBottom(!0):(b=this.getCellByCoordinate(cc.v2(y.x-1,y.y-1)))&&(y.x==C.x?b.setRight(!0):b.setBottom(!0))}this.scheduleOnce(function(){if(null!=r&&0<r.length)for(var t=0;t<r.length;t++){var e=r[t];if(null!=(l=this.getCellByCoordinate(cc.v2(e.x,e.y)))){l.setIce(!0);var i=cc.instantiate(this.icePrefab);i.parent=this.iceBox,i.setPosition(l.node.getPosition()),i.setContentSize(l.node.getContentSize()),i.active=!0,i.setScale(.3,.3),i.runAction(cc.scaleTo(.35,1,1))}}if(null!=h&&0<h.length)for(t=0;t<h.length;t++){var n,o,s=h[t],c=m.checkXY(s.w1,0,0),a=m.checkXY(s.d1,0,0),l=null;c.x<a.x||c.y>a.y?(n=c,o=a):(n=a,o=c),1==s.direction?null==(l=this.getCellByCoordinate(cc.v2(Math.max(n.x,o.x)-1,o.y)))&&(l=this.getCellByCoordinate(cc.v2(Math.max(n.x,o.x),o.y))):3==s.direction?null==(l=this.getCellByCoordinate(cc.v2(Math.max(n.x,o.x),o.y)))&&(l=this.getCellByCoordinate(cc.v2(Math.max(n.x,o.x)-1,o.y))):0==s.direction?null==(l=this.getCellByCoordinate(cc.v2(n.x,Math.min(n.y,o.y))))&&(l=this.getCellByCoordinate(cc.v2(n.x,Math.max(n.y,o.y)))):2==s.direction&&null==(l=this.getCellByCoordinate(cc.v2(n.x,Math.max(n.y,o.y)-1)))&&(l=this.getCellByCoordinate(cc.v2(n.x,Math.max(n.y,o.y)))),null!=l&&(n.x==o.x?1==s.direction?(l.setRightTower(!0),this.pushTower(l.rightTower,l.axialCoordinate,s)):(l.setLeftTower(!0),this.pushTower(l.leftTower,l.axialCoordinate,s)):0==s.direction?(l.setTopTower(!0),this.pushTower(l.topTower,l.axialCoordinate,s)):(l.setBottomTower(!0),this.pushTower(l.bottomTower,l.axialCoordinate,s)),l.node.zIndex=1)}d&&d()}.bind(this),.5+.05*this.levelDimensions.y)}},pushTower:function(t,e,i){var n=t.getComponent(o);n.axialCoordinate=e,n.init(i),this.allTowers.push(n)},checkXY:function(t,e,i){return null==t.x&&(t.x=i),null==t.y&&(t.y=e),t},updateUI:function(){this.moved>this.maxValidMoves?this.moves.string="<color=#ff0000>"+this.moved+"</c>/"+this.maxValidMoves:this.moves.string=this.moved+"/"+this.maxValidMoves},setStar:function(t,e,i){},onBackBtnClicked:function(t){(null!=this.gameApplication&&this.gameApplication.soundManager.playSound("btn_click"),null!=t)&&(t.target.getComponent(cc.Button).interactable=!1);cc.director.loadScene("main")},onNextBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.nextGame(e)},onPreviousBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.prevGame()},onReStarBtnClicked:function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1),this.gameApplication.soundManager.playSound("btn_click"),this.restarGame()},onHelpBtnClicked:function(t){this.gameOver||null==this.myRole||this.helpPath.length<=0||(0<this.helpCount?(this.gameApplication.soundManager.playSound("btn_click"),this.help()):(this.gameApplication.soundManager.playSound("btn_click"),SDK().hasVideoAd()&&.4<Math.random()?this.watchVideoTip.active=!0:this.shareFriendTip.active=!0))},onWatchVideoBtnClicked:function(e){this.gameApplication.soundManager.playSound("btn_click"),e.target.getComponent(cc.Button).interactable=!1;var i=this;SDK().showVideoAd(function(t){t?i.helpCount=plusHelp:cc.log("播放视频广告失败"),e.target.getComponent(cc.Button).interactable=!0,i.watchVideoTip.active=!1,i.shareFriendTip.active=!1}.bind(this))},onShareInvBtnClicked:function(e){this.gameApplication.soundManager.playSound("btn_click");var i=this;this.gameApplication.soundManager.playSound("done"),SDK().getScore("all",function(t){SDK().share(t,function(t){t&&(i.helpCount=plusHelp,console.log("邀请成功")),e.target.getComponent(cc.Button).interactable=!0,i.watchVideoTip.active=!1,i.shareFriendTip.active=!1})}.bind(this))},onCloseWatchVideoTipClicked:function(){this.gameApplication.soundManager.playSound("btn_click"),this.watchVideoTip.active=!1,this.shareFriendTip.active=!1},onShareBtnClicked:function(e){this.gameApplication.soundManager.playSound("btn_click"),e.target.getComponent(cc.Button).interactable=!1,e.target.active=!0,this.gameApplication.soundManager.playSound("done"),SDK().getScore("all",function(t){SDK().share(t,function(){e.target.getComponent(cc.Button).interactable=!0,e.target.active=!0})}.bind(this))}}),cc._RF.pop()},{"../../Utils/Utils":"Utils","./Enemy":"Enemy","./HexCell":"HexCell","./Role":"Role","./Tower":"Tower"}],HexCell:[function(t,e,i){"use strict";cc._RF.push(e,"9f2d9wJS0FLXJ2cTn40JI4b","HexCell"),cc.Class({extends:cc.Component,properties:{help_end:{default:null,type:cc.Node},help_start:{default:null,type:cc.Node},line_end:{default:null,type:cc.Node},line_start:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.onUpdateAxialCoordinate()}},iceNode:{default:null,type:cc.Node},isIce:{get:function(){return this.iceNode.active}},leftTower:{default:null,type:cc.Node},rightTower:{default:null,type:cc.Node},bottomTower:{default:null,type:cc.Node},topTower:{default:null,type:cc.Node},hasTower:{get:function(){return this.leftTower.active||this.rightTower.active||this.bottomTower.active||this.topTower.active}},coordinateText:{default:null,type:cc.Label},left:{default:null,type:cc.Node},right:{default:null,type:cc.Node},top:{default:null,type:cc.Node},bottom:{default:null,type:cc.Node},leftActive:{get:function(){return this.left.active}},rightActive:{get:function(){return this.right.active}},topActive:{get:function(){return this.top.active}},bottomActive:{get:function(){return this.bottom.active}}},onLoad:function(){this.initHexcell()},start:function(){},scaleChild:function(t,e){this.line_end.setScale(t,e),this.line_start.setScale(t,e),this.help_end.setScale(t,e),this.help_start.setScale(t,e),this.leftTower.getComponent("Tower").setScaleXY(t,e),this.topTower.getComponent("Tower").setScaleXY(t,e),this.rightTower.getComponent("Tower").setScaleXY(t,e),this.bottomTower.getComponent("Tower").setScaleXY(t,e)},showStartLine:function(t){null!=t&&(this.line_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_start.setRotation(90):this.line_start.setRotation(-90):this.axialCoordinate.x>t.x?this.line_start.setRotation(180):this.line_start.setRotation(0))},showEndLine:function(t){null!=t&&(this.line_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.line_end.setRotation(90):this.line_end.setRotation(-90):this.axialCoordinate.x>t.x?this.line_end.setRotation(180):this.line_end.setRotation(0))},showLine:function(t,e){this.showStartLine(e),this.showEndLine(t)},hideLine:function(){this.line_start.active=!1,this.line_end.active=!1},showStartHelp:function(t){null!=t&&(this.help_start.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_start.setRotation(90):this.help_start.setRotation(-90):this.axialCoordinate.x>t.x?this.help_start.setRotation(180):this.help_start.setRotation(0))},showEndHelp:function(t){null!=t&&(this.help_end.active=!0,this.axialCoordinate.x==t.x?this.axialCoordinate.y>t.y?this.help_end.setRotation(90):this.help_end.setRotation(-90):this.axialCoordinate.x>t.x?this.help_end.setRotation(180):this.help_end.setRotation(0))},showHelp:function(t,e){this.showStartHelp(e),this.showEndHelp(t)},hideHelpLine:function(){this.help_start.active=!1,this.help_end.active=!1},setIce:function(t){this.iceNode.active=!0},setLeft:function(t){this.left.active=t},setRight:function(t){this.right.active=t},setTop:function(t){this.top.active=t},setBottom:function(t){this.bottom.active=t},setLeftTower:function(t){this.leftTower.active=t},setRightTower:function(t){this.rightTower.active=t},setTopTower:function(t){this.topTower.active=t},setBottomTower:function(t){this.bottomTower.active=t},initHexcell:function(){this.reset()},onUpdateAxialCoordinate:function(){this.coordinateText.string=parseInt(this.axialCoordinate.x)+","+parseInt(this.axialCoordinate.y),this.coordinateText.node.active=isDebug},reset:function(t){this.setLeft(!1),this.setRight(!1),this.setTop(!1),this.setBottom(!1),this.setLeftTower(!1),this.setRightTower(!1),this.setTopTower(!1),this.setBottomTower(!1)}}),cc._RF.pop()},{}],LanguageData:[function(t,e,i){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=t("polyglot.min"),o=null;function s(t){return window.i18n.languages[t]}function c(t){t&&(o?o.replace(t):o=new n({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=s(t)||{};window.i18n.curLang=t,c(e),this.inst=o}},t:function(t,e){if(o)return o.t(t,e)},inst:o,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],i=0;i<t.length;++i){var n=t[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,n)}for(var o=0;o<e.length;++o){e[o].updateLabel()}for(var s=[],c=0;c<t.length;++c){var a=t[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,a)}for(var l=0;l<s.length;++l){s[l].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LevelView:[function(t,e,i){"use strict";cc._RF.push(e,"f23f1EV0cJDq6BQzHk3MAdR","LevelView"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},starts:{default:null,type:cc.Node},pageView:{default:null,type:cc.PageView},content:{default:null,type:cc.Node},levelItem:{default:null,type:cc.Node},levelPage:{default:null,type:cc.Node},levels:{default:{}},bid:{default:0,type:cc.Integer},mid:{default:0,type:cc.Integer},_lastOpenLid:{default:0,type:cc.Integer},lastOpenLid:{get:function(){return this._lastOpenLid},set:function(t){this._lastOpenLid=t,this.updateCurrpage()}},gameApplication:{default:null,type:Object},lastLid:{default:0,type:cc.Integer}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},start:function(){},init:function(n,o){if(this.title.string="",null==this.levels||Object.keys(this.levels).length<=0||this.bid!=n||this.mid!=o){this.bid=n,this.mid=o;var t="conf/level_list/level_"+n+"_"+o;this.gameApplication.getConf(t,function(t){this.levels=t,this.initContents()}.bind(this))}else this.bid=n,this.mid=o,this.initContents();var s=this;SDK().getScore(n+"_"+o,function(t){s.starts.getComponent(cc.Label).string=t.toString();var e=t+1,i=[];i.push(e),1<e&&i.push(e-1),i.forEach(function(t){var e="conf/level_detail/b_"+n+"/"+o+"/"+t;s.gameApplication.getConf(e,null)})}.bind(this))},initContents:function(){var e=this;e.hideAllItem(),this.title.string=e.levels.title,this.lastLid=0,this.bid=e.levels.bid,this.mid=e.levels.mid;var i=1;e.levels.levels.forEach(function(t){e.initLevels(t,i),i++}),this.pageView._updatePageView()},initLevels:function(t,e){if(!(e<1||4<e)){var i=cc.instantiate(this.levelPage);i.active=!0,this.pageView.addPage(i);for(var n=i.getChildByName("content"),o=(t.total_level,1);o<=25;o++){var s=o.toString(),c=n.getChildByName(s);if(o>t.total_level)c.active=!1;else{var a=25*(e-1)+o;c.tag=a,this.setItem(c,0,!1,a);var l=this;SDK().getScore(l.bid+"_"+l.mid+"_"+a,function(t,e,i){var n=!1;i<=l.lastLid+1||0<t?(n=!0,l.setItem(e,t,n,i)):openAllLevel&&l.setItem(e,t,!0,i),0<t&&(l.lastLid=i)},c,a)}}}},setItem:function(t,e,i,n){cc.find("unlock",t).active=i,cc.find("lock",t).active=!i,cc.find("unlock/text",t).getComponent(cc.Label).string=n,cc.find("lock/text",t).getComponent(cc.Label).string=n,t.active=!0,i&&(this.lastOpenLid=n)},updateCurrpage:function(){var t=Math.ceil(this.lastOpenLid/30)-1;t=0<=t?t:0,this.pageView.scrollToPage(t,!1)},onLevelItemClicked:function(t){this.gameApplication.soundManager.playSound("btn_click");var e=t.target,i=e.getComponent(cc.Button);i.interactable=!1;var n=parseInt(e.tag);n<1||n>this.lastOpenLid?i.interactable=!0:(window.bid=this.bid,window.mid=this.mid,window.lid=n,cc.director.loadScene("game"))},hideAllItem:function(){this.pageView.removeAllPages()},onBackBtnClicked:function(){this.hideAllItem(),this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],LoadingView:[function(t,e,i){"use strict";cc._RF.push(e,"961c4S3IrNHB4M+zHyOMk6f","LoadingView"),cc.Class({extends:cc.Component,properties:{gameApplication:{default:null,type:Object}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication")},start:function(){"undefined"!=typeof bid&&"undefined"!=typeof mid&&"undefined"!=typeof lid&&this.gameApplication.openLevelView(bid,mid)},onPlayBtnClicked:function(){cc.log("onPlayBtnClicked"),this.gameApplication.openMainView(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],LocalizedLabel:[function(t,e,i){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e,i){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainView:[function(t,e,i){"use strict";cc._RF.push(e,"5a326YqAwhD+IfA3lH1oKVk","MainView"),cc.Class({extends:cc.Component,properties:{title:{default:null,type:cc.Label},starts:{default:null,type:cc.Node},content:{default:null,type:cc.Node},missionItem:{default:null,type:cc.Node},missionSpriteAtlas:{default:null,type:cc.SpriteAtlas},missions:{default:null},gameApplication:{default:null,type:Object},watchADTip:{default:null,type:cc.Node},unlock_bid:{default:0,type:cc.Integer},unlock_mid:{default:0,type:cc.Integer},unlock_ad:{default:0,type:cc.Integer},watched_ad:{default:0,type:cc.Integer},missionNodes:{default:{}}},onLoad:function(){this.gameApplication=cc.find("GameApplication").getComponent("GameApplication"),this.init(),cc.director.preloadScene("game",function(){})},start:function(){},init:function(){null==this.missions||Object.keys(this.missions).length<=0?this.gameApplication.getMissions(function(t){this.missions=t,this.initContents()}.bind(this)):this.initContents();var e=this;SDK().getScore("all",function(t){e.starts.getComponent(cc.Label).string=t.toString()}.bind(this))},initContents:function(){this.hideAllItem();var e=0;this.missions.forEach(function(t){this.initMissionItem(t,e),e++}.bind(this))},initMissionItem:function(t,e){var i=cc.instantiate(this.missionItem);i.parent=this.content,i.active=!0;var n=(i.tag=e)%6+1;i.getChildByName("star"),i.getChildByName("lock");i.getChildByName("title").getComponent(cc.Label).string=t.title,i.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.missionSpriteAtlas.getSpriteFrame("mission_"+n);var o=t.stars,s=t.bid,c=t.mid,a=t.unlock_ad;if(this.missionNodes[s+"_"+c]=i,SDK().getScore(s+"_"+c,function(t){cc.find("unlock/count",i).getComponent(cc.Label).string=t+"/"+o,cc.find("lock/count",i).getComponent(cc.Label).string=t+"/"+o}),a<=0)cc.find("unlock",i).active=!0,cc.find("lock",i).active=!1;else{cc.find("unlock",i).active=!1;var l=!(cc.find("lock",i).active=!0);SDK().getScore("unlock_"+s+"_"+c,function(t){a<=t&&(l=!0),cc.find("lock/tip",i).getComponent(cc.Label).string="watch "+a+" videos\n to unlock this new world",cc.find("lock/icon_play/val",i).getComponent(cc.Label).string=t+"/"+a,cc.find("unlock",i).active=l,cc.find("lock",i).active=!l}.bind(this))}var r="conf/level_list/level_"+s+"_"+c;this.gameApplication.getConf(r,null)},onWatchVideoBtnClicked:function(){var c=this;SDK().showVideoAd(function(t){if(t){var e=c.unlock_bid,i=c.unlock_mid,n=c.unlock_ad;c.watched_ad++;var o=this.missionNodes[e+"_"+i];cc.find("lock/icon_play/val",o).getComponent(cc.Label).string=c.watched_ad+"/"+n,c.watched_ad>=n?(c.showLevelPanel(e,i),cc.find("unlock",o).active=!0,cc.find("lock",o).active=!1):(cc.find("unlock",o).active=!1,cc.find("lock",o).active=!0);var s={};s["unlock_"+e+"_"+i]=c.watched_ad,SDK().setScore(s,null)}else cc.log("播放视频广告失败")}.bind(this))},onMissionItemClicked:function(t){var e=this,i=t.target,n=i.getComponent(cc.Button);n.interactable=!1;var o=parseInt(i.tag),s=this.missions[o];if(null!=s){var c=s.bid,a=s.mid,l=s.unlock_ad;if(l<=0)this.showLevelPanel(c,a),n.interactable=!0;else{var r=!1;SDK().getScore("unlock_"+c+"_"+a,function(t){l<=t&&(r=!0),r?e.showLevelPanel(c,a):(e.unlock_bid=c,e.unlock_mid=a,e.unlock_ad=l,e.watched_ad=t,e.onWatchVideoBtnClicked()),n.interactable=!0}.bind(this))}}},hideAllItem:function(){0<this.content.childrenCount&&this.content.children.forEach(function(t){t.active=!1,t.destroy()})},showLevelPanel:function(t,e){this.gameApplication.openLevelView(t,e),this.gameApplication.soundManager.playSound("btn_click")},onBackBtnClicked:function(){this.gameApplication.backToWelcome(),this.gameApplication.soundManager.playSound("btn_click")}}),cc._RF.pop()},{}],NormalAnimation:[function(t,e,i){"use strict";cc._RF.push(e,"43480EzecBHBogcLHmzK8wB","NormalAnimation"),cc.Class({extends:cc.Component,properties:{loop:!0,isplay:!0,sprite:{default:null,type:cc.Sprite},sprites:{default:[],type:[cc.SpriteFrame]},fps:{default:5,type:cc.Integer},index:{default:0,type:cc.Integer,visible:!1},delta:{default:0,type:cc.Integer,visible:!1},rotationForever:!1},onLoad:function(){this.rotationForever&&this.rotation()},rotation:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.rotationSeq=this.node.runAction(t)},play:function(){this.scheduleOnce(function(){null!=this.rotationSeq&&this.node.stopAction(this.rotationSeq)},.1),this.index=0,this.delta=0,this.isplay=!0,this.node.opacity=255,this.sprite.node.active=!0},update:function(t){if(this.isplay&&(this.delta+=t,0<this.fps&&0<this.sprites.length)){var e=1/this.fps;e<this.delta&&(this.delta=0<e?this.delta-e:0,this.sprite.spriteFrame=this.sprites[this.index],this.index=this.index+1>=this.sprites.length?0:this.index+1,this.index<=0&&0==this.loop&&(this.rotation(),this.isplay=!1,this.sprite.spriteFrame=this.sprites[0],this.node.opacity=0))}}}),cc._RF.pop()},{}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"e32198K/PFAYI3D//JNhj6H","Player"),cc.Class({extends:cc.Component,properties:{age:{default:0,type:cc.Integer},avatar:{default:""},group_id:{default:0,type:cc.Integer},is_rebot:{default:0,type:cc.Integer},pname:{default:""},score:{default:0,type:cc.Integer},sex:{default:0,type:cc.Integer},user_id:{default:0,type:cc.Integer}},setUserInfo:function(t){this.age=t.age,this.avatar=t.avatar,this.group_id=t.group_id,this.is_rebot=t.is_rebot,this.pname=this.substrName(t.name,6),this.score=t.score,this.sex=t.sex,this.user_id=t.user_id},substrName:function(t,e){if(t.replace(/[\u4e00-\u9fa5]/g,"**").length<=e)return t;for(var i=0,n="",o=0;o<t.length&&(/[\u4e00-\u9fa5]/.test(t[o])?i+=2:i+=1,!(e<i));o++)n+=t[o];return n+" ..."}}),cc._RF.pop()},{}],Role:[function(t,e,i){"use strict";cc._RF.push(e,"01249Rk7stLqpgK0u1Ta5FD","Role");t("./HexCell");cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.Node},die:{default:null,type:cc.Node},arrowNode:{default:null,type:cc.Node},leftNode:{default:null,type:cc.Node},rightNode:{default:null,type:cc.Node},bottomNode:{default:null,type:cc.Node},topNode:{default:null,type:cc.Node},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y)}},gameView:{default:null},darkNode:{default:null,type:cc.Node}},onLoad:function(){},start:function(){},init:function(){this.bg.active=!0,this.die.active=!1},onCollisionEnter:function(t,e){null!=this.gameView&&(cc.log("other.node:",t.node),cc.log("other.node.opacity:",t.node.opacity),null!=t.node&&0<t.node.opacity&&t.node.active&&this.gameView.collisionCallback())},setDark:function(t){this.darkNode.active=t},setArrow:function(t,e,i,n){this.topNode.active=t,this.bottomNode.active=i,this.leftNode.active=e,this.rightNode.active=n,this.arrowNode.active=!0},hideArrow:function(){this.arrowNode.active=!1},playDie:function(t){var e=this;this.bg.active=!0,this.die.active=!1,this.die.setContentSize(cc.size(100,100)),this.blinking(this.bg,function(){e.bg.active=!1,e.die.active=!0,e.blinking(e.die,function(){e.die.setContentSize(cc.size(180,180)),e.blinking(e.die,function(){e.scheduleOnce(function(){e.die.runAction(cc.fadeOut(.2))},.1)})})})},blinking:function(t,e){var i=cc.delayTime(.12),n=cc.fadeOut(.01),o=cc.delayTime(.1),s=cc.fadeIn(.01),c=cc.callFunc(function(){e&&e()}),a=cc.repeat(cc.sequence(i,n,o,s),2);t.stopAllActions(),t.runAction(cc.sequence(a,c))},moveTo:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],RotationForever:[function(t,e,i){"use strict";cc._RF.push(e,"fb6faggz8ZGIIj857YwdZTb","RotationForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.rotateBy(.3,90));this.node.runAction(t)}}),cc._RF.pop()},{}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"2e203tup99JJ5nSDvFuy7AM","SoundManager"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null},btn_click:{url:cc.AudioClip,default:null},gamewin:{url:cc.AudioClip,default:null},done:{url:cc.AudioClip,default:null},error:{url:cc.AudioClip,default:null},clock:{url:cc.AudioClip,default:null},uplock:{url:cc.AudioClip,default:null},isOpen:!0,isVoiceOpen:!0},playSound:function(t){if(this.isOpen)switch(t){case"btn_click":cc.audioEngine.play(this.btn_click,!1,1);break;case"done":cc.audioEngine.play(this.done,!1,1);break;case"error":cc.audioEngine.play(this.error,!1,1);break;case"clock":cc.audioEngine.play(this.clock,!1,1);break;case"gamewin":cc.audioEngine.play(this.gamewin,!1,1);break;case"uplock":cc.audioEngine.play(this.uplock,!1,1)}},playBg:function(){cc.logo("_____playBg:function"),this.isOpen&&this.audioSource.play()},setVoiceIsOpen:function(t){if(this.isVoiceOpen=t)try{null!=str&&HiboGameJs.enableMic(0)}catch(t){}else try{null!=str&&HiboGameJs.enableMic(1)}catch(t){}},setIsOpen:function(t){if(this.isOpen=t,this.isOpen){this.playBg();try{null!=str&&HiboGameJs.mute(0)}catch(t){}}else{this.audioSource.pause();try{null!=str&&HiboGameJs.mute(1)}catch(t){}}}}),cc._RF.pop()},{}],SpriteFrameSet:[function(t,e,i){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=n,cc._RF.pop()},{}],Tower:[function(t,e,i){"use strict";cc._RF.push(e,"fffd1g1zLBJ9Zn7NHAXbn3T","Tower");t("./HexCell");cc.Class({extends:cc.Component,properties:{bubble:{default:null,type:cc.Node},bubbleAxialCoordinate:{default:cc.v2(0,0),visible:!1},_axialCoordinate:{default:cc.v2(0,0),visible:!1},axialCoordinate:{get:function(){return this._axialCoordinate},set:function(t){this._axialCoordinate=cc.v2(t.x,t.y),this.bubbleAxialCoordinate=cc.v2(t.x,t.y)}},isShooting:!1,direction:{default:-1,type:cc.Integer,visible:!1},f:{default:0,type:cc.Integer,visible:!1},s:{default:0,type:cc.Integer,visible:!1},delay:{default:0,type:cc.Integer,visible:!1},size:{default:cc.size(0,0),type:cc.Size,visible:!1},scaleX:{default:1,type:cc.Integer,visible:!1},scaleY:{default:1,type:cc.Integer,visible:!1}},init:function(t){this.direction=t.direction,this.f=t.f,this.s=t.s,this.delay=t.delay,this.isShooting=!1,this.bubble.active=!1,this.node.setContentSize(this.size),this.bubble.setScale(this.scaleX,this.scaleY)},setScaleXY:function(t,e){this.size=cc.size(34*t,51*e),this.scaleX=t,this.scaleY=e},onLoad:function(){},start:function(){}}),cc._RF.pop()},{"./HexCell":"HexCell"}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"3e427LrtQhKv7l/kjbf8v9+","Utils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={},h=Math.sqrt(3);o.offsetToAxial=function(t){return t.x=t.x-Math.floor(t.y/2),t},o.axialToScreen=function(t,e){var i=e*t.y+.5*e-t.y*lineWidth,n=e*t.x+.5*e-t.x*lineWidth;return cc.v2(n,i)},o.screenToAxial=function(t,e){var i=cc.v2(0,0);i.y=t.x/(1.5*e),i.x=(t.y-t.x/h)/(h*e);var n=this.calculateCubicZ(i),o=Math.round(i.x),s=Math.round(i.y),c=Math.round(n);if(o+s+c==0)t.x=o,t.y=s;else{var a=Math.abs(i.x-o),l=Math.abs(i.y-s),r=Math.abs(n-c);l<a&&r<a?(t.x=-s-c,t.y=s):a<l&&r<l?(t.x=o,t.y=-o-c):a<r&&l<r&&(t.x=o,t.y=s)}return t},o.calculateCubicZ=function(t){return-t.x-t.y},o.axialToOffset=function(t){return t.x=t.x+Math.floor(t.y/2),t},o.getNeighbors=function(t){var e=cc.v2(0,0),i=[];return e.x=t.x+1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x-1,e.y=t.y,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y-1,i.push(cc.v2(e.x,e.y)),e.x=t.x,e.y=t.y+1,i.push(cc.v2(e.x,e.y)),i},o.getNeighborsOBJ=function(t){var e=cc.v2(0,0),i={};return e.x=t.x+1,e.y=t.y,i.r=cc.v2(e.x,e.y),e.x=t.x-1,e.y=t.y,i.l=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y-1,i.b=cc.v2(e.x,e.y),e.x=t.x,e.y=t.y+1,i.t=cc.v2(e.x,e.y),i},o.isNeighbors=function(t,e){for(var i=this.getNeighbors(t),n=!1,o=0;o<i.length;o++)i[o].equals(e)&&(n=!0);return n},o.cloneObj=function(t){var e=t&&t.constructor===Array?[]:{};for(var i in t)if(t.hasOwnProperty(i)){if(!t[i]){e[i]=t[i];continue}e[i]="object"===n(t[i])?o.cloneObj(t[i]):t[i]}return e},o.GetRandomNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},e.exports=o,cc._RF.pop()},{}],ZoominForever:[function(t,e,i){"use strict";cc._RF.push(e,"0bfed705u9G85RWvZFfoZtO","ZoominForever"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.88,1.1,1.1),cc.scaleTo(.88,.9,.9)));this.node.runAction(t)}}),cc._RF.pop()},{}],en:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"8c6d6rX4b5LH43PcfbdRlsr","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={label_text:(n={helpTip:"Slide the screen to direct the direction \n and find the exit of the maze!",watchAdTip:"Watch video AD to unlock \nthis level in advance!",watchAdBtn:"Unlock",invBtn:"Invite Friends",watchAdHelip:"You can get 5 more help\n after watching the AD!"},o(n,"watchAdBtn","WATCH VIDEO"),o(n,"shareAdHelp","5 helps can be obtained\n after sharing!"),o(n,"shareAdBtn","ADD FRIEND"),o(n,"later","LATER"),o(n,"replay","Replay"),o(n,"timeisup","watch a video \nfor more time now!"),o(n,"timeisup_share","share to friends \nfor more time now!"),o(n,"timeisup_end","Time is up!"),n)},cc._RF.pop()},{}],facebook:[function(t,e,i){"use strict";cc._RF.push(e,"f7e88yLkVlNjqndbdp6NqMq","facebook");var n,o="AD_LOADING",s="AD_LOAD_SUCCESS",c="AD_COMPLETE",a=function(){this.cb=null,this.videoAd=null,this.videoAdState=null,this.InterstitialAd=null,this.InterstitialAdState=null};a.prototype.init=function(){"undefined"!=typeof FBInstant&&(this.loadVideoAd(),this.loadInterstitialAd(),"zh_CN"==FBInstant.getLocale()&&t("LanguageData").init("en"))},a.prototype.getLocale=function(){if("undefined"!=typeof FBInstant)return FBInstant.getLocale()},a.prototype.share=function(e,i){if("undefined"!=typeof FBInstant){var n=this;FBInstant.context.chooseAsync().then(function(){console.log("FBInstant.context.getID():",FBInstant.context.getID());var c=n.getName()+" finish "+e+" missions,Can you beat me?";n.getName();console.log("share:"+c);var t="texture2d/game_icon";console.log("framePath:",t),cc.loader.loadRes(t,cc.Texture2D,function(t,e){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=600,i.height=420;var o=e.getHtmlElementObj();n.drawImage(o,0,0);var s=i.toDataURL("image/png");FBInstant.updateAsync({action:"CUSTOM",cta:"Play Game",template:"join_fight",image:s,text:c,data:{myReplayData:"..."},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){})}),null!=i&&i(!0)})}else null!=i&&i(!0)},a.prototype.loadInterstitialAd=function(){"undefined"!=typeof FBInstant&&FBInstant.getInterstitialAdAsync("160840521263423_160841827929959").then(function(t){return this.InterstitialAd=t,this.InterstitialAdState=o,this.InterstitialAd.loadAsync()}.bind(this)).catch(function(t){}.bind(this)).then(function(){this.InterstitialAdState=s}.bind(this))},a.prototype.showInterstitialAd=function(e){"undefined"!=typeof FBInstant?null!=this.InterstitialAd?this.InterstitialAd.showAsync().then(function(){this.InterstitialAdState=c,e&&e(!0),this.loadInterstitialAd()}.bind(this)).catch(function(t){this.InterstitialAdState=c,e&&e(!1)}.bind(this)):(e&&e(!1),this.loadInterstitialAd()):e&&e(!1)},a.prototype.loadVideoAd=function(){"undefined"!=typeof FBInstant&&FBInstant.getRewardedVideoAsync("160840521263423_160841467929995").then(function(t){return this.videoAd=t,this.videoAdState=o,this.videoAd.loadAsync()}.bind(this)).then(function(){this.videoAdState=s}.bind(this))},a.prototype.hasVideoAd=function(){return"undefined"!=typeof FBInstant&&null!=this.videoAd},a.prototype.showVideoAd=function(e){"undefined"!=typeof FBInstant?null!=this.videoAd?this.videoAd.showAsync().then(function(){this.videoAdState=c,e&&e(!0),this.loadVideoAd()}.bind(this)).catch(function(t){this.videoAdState=c,e&&e(!1)}.bind(this)):(e&&e(!1),this.loadVideoAd()):e&&e(!0)},a.prototype.getName=function(){return"undefined"==typeof FBInstant?"undefined":FBInstant.player.getName()},a.prototype.getScore=function(e,i,n,o){if("undefined"==typeof FBInstant){s=void 0===(s=JSON.parse(cc.sys.localStorage.getItem(e)))||null==s?0:parseInt(s),i(s,n,o)}else{var t=[];t.push(e);var s=0;FBInstant.player.getDataAsync(t).then(function(t){s=void 0===t[e]?0:parseInt(t[e]),i(s,n,o)})}},a.prototype.setScore=function(t,e){if("undefined"==typeof FBInstant){for(var i in t)cc.sys.localStorage.setItem(i,t[i]);null!=e&&e()}else FBInstant.player.setDataAsync(t).then(function(){null!=e&&e()})},e.exports=function(){return n||(n=new a),n},cc._RF.pop()},{LanguageData:"LanguageData"}],globals:[function(t,e,i){"use strict";cc._RF.push(e,"f774aa2KJxEp68y3WRvT7GZ","globals"),window.SDK=t("../SDK/facebook"),window.playTimesAD=2,window.isDebug=!1,window.lineWidth=6,window.plusHelp=500,window.openAllLevel=!1,cc._RF.pop()},{"../SDK/facebook":"facebook"}],"polyglot.min":[function(t,e,i){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=void 0,o=function(e){function t(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||i}function o(t,e,i){var n,o,s,c,a,l,r;return null!=i&&t?(s=(o=t.split(h))[(c=e,a=i,d[(l=c,r=function(t){var e,i,n,o={};for(e in t)if(t.hasOwnProperty(e))for(n in i=t[e])o[i[n]]=e;return o}(u),r[l]||r.en)](a))]||o[0],n=s.replace(/^\s+|\s+$/g,"")):n=t,n}function i(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},t.prototype.extend=function(t,e){var i;for(var n in t)t.hasOwnProperty(n)&&(i=t[n],e&&(n=e+"."+n),"object"==(void 0===i?"undefined":s(i))?this.extend(i,n):this.phrases[n]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(t){this.clear(),this.extend(t)},t.prototype.t=function(t,e){var i,n;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?i=this.phrases[t]:"string"==typeof e._?i=e._:this.allowMissing?i=t:(this.warn('Missing translation for key: "'+t+'"'),n=t),"string"==typeof i&&(e=function(t){var e={};for(var i in t)e[i]=t[i];return e}(e),n=function(t,e){for(var i in e)"_"!==i&&e.hasOwnProperty(i)&&(t=t.replace(new RegExp("%\\{"+i+"\\}","g"),e[i]));return t}(n=o(i,this.currentLocale,e.smart_count),e)),n},t.prototype.has=function(t){return t in this.phrases};var h="||||",d={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return 1<t?1:0},russian:function(t){return t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2},czech:function(t){return 1===t?0:2<=t&&t<=4?1:2},polish:function(t){return 1===t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},u={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t},"function"==typeof define&&define.amd?define([],function(){return o(n)}):"object"==(void 0===i?"undefined":s(i))?e.exports=o(n):n.Polyglot=o(n),cc._RF.pop()},{}],zh:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"052f3sYjnRNDY4qAIzWph5c","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label_text:(n={helpTip:"滑动屏幕指引方向，找出迷宫的出口！!",watchAdTip:"观看视频广告 \n可提前解锁此关卡!",watchAdBtn:"解锁关卡",invBtn:"邀请好友",watchAdHelip:"观看视频  \n可获得5个帮助!"},o(n,"watchAdBtn","好的!"),o(n,"shareAdHelp","分享给好友，\n可以获得5个帮助!"),o(n,"shareAdBtn","分享"),o(n,"later","关闭"),o(n,"replay","重新开始"),o(n,"timeisup","观看视频获得\n额外的5秒时间!"),o(n,"timeisup_share","分享给好友获得\n额外的5秒时间!"),o(n,"timeisup_end","时间到了!"),n)},cc._RF.pop()},{}]},{},["globals","GameApplication","Player","SoundManager","facebook","NormalAnimation","RotationForever","ZoominForever","Enemy","GameView","HexCell","Role","Tower","LevelView","LoadingView","MainView","Utils","en","zh","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);